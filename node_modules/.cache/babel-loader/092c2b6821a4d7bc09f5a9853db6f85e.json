{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bisht/Project/deployment/dhh/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/bisht/Project/deployment/dhh/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/bisht/Project/deployment/dhh/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from\"react\";import SocialMedia from\"../../../common/SocialMedia\";import YoutubeVideo from\"../../../common/YoutubeVideo\";import{artistActions,userChoiceAction}from\"../../../../state/actions\";import{useSelector,useDispatch}from\"react-redux\";import Songs from\"../../../common/Songs\";import axios from\"axios\";import setAuthToken from\"../../../../utils/setAuthnToken\";import{favRappers}from\"../../../../state/actions/userChoiceAction\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Rapper=function Rapper(_ref){var match=_ref.match;var dispatch=useDispatch();var artistType=useSelector(function(state){return state.artist.artistType;});var currArtist=useSelector(function(state){return state.artist.currArtist;});var favRappers=useSelector(function(state){return state.userChoice.favrapper;});var isFav={};isFav.length=0;if(favRappers!==null&&currArtist!==null){isFav=favRappers.filter(function(rapper){return rapper.name===currArtist.name;});}var _useState=useState(isFav.length>0?\"fas fa-heart fa-3x\":\"far fa-heart fa-3x\"),_useState2=_slicedToArray(_useState,2),artistFavouriteIconClass=_useState2[0],setArtistFavouriteIconClass=_useState2[1];var artistFavourite=function artistFavourite(e){if(artistFavouriteIconClass===\"far fa-heart fa-3x\"){dispatch(userChoiceAction.addFav(\"favrapper\",currArtist._id));setArtistFavouriteIconClass(\"fas fa-heart fa-3x\");}else{dispatch(userChoiceAction.removeFav(\"favrapper\",currArtist._id));setArtistFavouriteIconClass(\"far fa-heart fa-3x\");}};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),liked=_useState4[0],setLiked=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),disliked=_useState6[0],setDisliked=_useState6[1];function likeArtist(_x,_x2){return _likeArtist.apply(this,arguments);}function _likeArtist(){_likeArtist=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(config,addRemove){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setAuthToken(localStorage.token);_context2.next=3;return axios.post(\"/userchoice/likedartist/likedrapper/\".concat(addRemove,\"/\").concat(currArtist._id),null,config);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _likeArtist.apply(this,arguments);}function disLikedArtist(_x3,_x4){return _disLikedArtist.apply(this,arguments);}function _disLikedArtist(){_disLikedArtist=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(config,addRemove){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setAuthToken(localStorage.token);_context3.next=3;return axios.post(\"/userchoice/dislikedartist/dislikedrapper/\".concat(addRemove,\"/\").concat(currArtist._id),null,config);case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _disLikedArtist.apply(this,arguments);}function setLocalState(like,dislike){setDisliked(dislike);setLiked(like);}function dbUpdate(currentAction,action){var likeUnlikeInfo={id:currArtist._id,action:action};dispatch(artistActions.likeUnLikeArtist(\"rappers\",likeUnlikeInfo,currentAction));}function artistLikedUnliked(currentAction){var config={header:{\"content-type\":\"application/json\"}};if(currentAction===\"like\"&&liked||currentAction===\"unLike\"&&disliked){return;}else if(currentAction===\"like\"&&disliked){setLocalState(true,false);disLikedArtist(config,\"remove\");likeArtist(config,\"add\");dbUpdate(\"like\",\"inc\");dbUpdate(\"unLike\",\"dec\");//remove from disliked list and add to liked list backend\n}else if(currentAction===\"unLike\"&&liked){setLocalState(false,true);disLikedArtist(config,\"add\");likeArtist(config,\"remove\");dbUpdate(\"like\",\"dec\");dbUpdate(\"unLike\",\"inc\");//remove from liked list and add to disliked list backend\n}else if(currentAction===\"like\"){setLocalState(true,false);likeArtist(config,\"add\");dbUpdate(\"like\",\"inc\");}else if(currentAction===\"unLike\"){setLocalState(false,true);disLikedArtist(config,\"add\");dbUpdate(\"unLike\",\"inc\");}}// const songUpdate = useRef(false);\n// if (!songUpdate.current) {\n//   dispatch(songAction.allArtistSongs(artistType, currArtist._id));\n//   songUpdate.current = true;\n// }\nuseEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var disLikedCheck,likedCheck;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setAuthToken(localStorage.token);_context.next=4;return axios.get(\"/userchoice/likecheck/dislikedrapper/\".concat(currArtist._id));case 4:disLikedCheck=_context.sent;setDisliked(disLikedCheck.data.res===\"true\");_context.next=8;return axios.get(\"/userchoice/likecheck/likedrapper/\".concat(currArtist._id));case 8:likedCheck=_context.sent;setLiked(likedCheck.data.res===\"true\");_context.next=14;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);})),[]);return currArtist!==null&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"#\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline-flex flex-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pe-3 pb-3 ps-3\",children:/*#__PURE__*/_jsx(\"img\",{style:{height:\"400px\",width:\"300px\"},className:\"border border-5 border-white\",src:require(\"../../../../resources/artist/images/page/\".concat(currArtist.profileImage)).default})}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsxs(\"h1\",{style:{color:\"#56799a\"},children:[currArtist.name,\" - The [\",currArtist.title,\" ]of DHH\"]}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"#\"},children:currArtist.about}),/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute bottom-0 container\",children:/*#__PURE__*/_jsxs(\"div\",{style:{color:\"#\"},className:\"d-flex justify-content-evenly\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return artistLikedUnliked(\"like\");},className:\"fas fa-microphone fa-3x\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ps-3\",children:currArtist.like})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"i\",{onClick:artistFavourite,className:artistFavouriteIconClass})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return artistLikedUnliked(\"unLike\");},className:\"fas fa-microphone-slash fa-3x\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ps-3\",children:currArtist.unLike})]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",style:{margin:\"0px\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:\"#56799a\"},children:\"Famous Bars\"}),/*#__PURE__*/_jsx(\"div\",{className:\"scroll\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row flex-row flex-nowrap\",children:/*#__PURE__*/_jsx(Songs,{songsList:currArtist.songs})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:\"#56799a\"},className:\"text-center\",children:\"Social Links\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-md-center\",style:{backgroundColor:\"black\"},children:currArtist.sociallinks.map(function(socialaccount,i){return/*#__PURE__*/_jsx(SocialMedia,{socialaccount:socialaccount,i:i,size:5});})})})]})]});};export default Rapper;","map":{"version":3,"sources":["C:/Users/bisht/Project/deployment/dhh/client/src/component/pages/creators/artist/Rapper.js"],"names":["React","useEffect","useState","useRef","SocialMedia","YoutubeVideo","artistActions","userChoiceAction","useSelector","useDispatch","Songs","axios","setAuthToken","favRappers","Rapper","match","dispatch","artistType","state","artist","currArtist","userChoice","favrapper","isFav","length","filter","rapper","name","artistFavouriteIconClass","setArtistFavouriteIconClass","artistFavourite","e","addFav","_id","removeFav","liked","setLiked","disliked","setDisliked","likeArtist","config","addRemove","localStorage","token","post","disLikedArtist","setLocalState","like","dislike","dbUpdate","currentAction","action","likeUnlikeInfo","id","likeUnLikeArtist","artistLikedUnliked","header","get","disLikedCheck","data","res","likedCheck","backgroundColor","height","width","require","profileImage","default","color","title","about","unLike","margin","songs","sociallinks","map","socialaccount","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport SocialMedia from \"../../../common/SocialMedia\";\r\nimport YoutubeVideo from \"../../../common/YoutubeVideo\";\r\nimport { artistActions, userChoiceAction } from \"../../../../state/actions\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Songs from \"../../../common/Songs\";\r\nimport axios from \"axios\";\r\nimport setAuthToken from \"../../../../utils/setAuthnToken\";\r\nimport { favRappers } from \"../../../../state/actions/userChoiceAction\";\r\n\r\nconst Rapper = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n  const artistType = useSelector((state) => state.artist.artistType);\r\n  const currArtist = useSelector((state) => state.artist.currArtist);\r\n  const favRappers = useSelector((state) => state.userChoice.favrapper);\r\n  let isFav = {};\r\n  isFav.length = 0;\r\n  if (favRappers !== null && currArtist !== null) {\r\n    isFav = favRappers.filter((rapper) => rapper.name === currArtist.name);\r\n  }\r\n\r\n  const [artistFavouriteIconClass, setArtistFavouriteIconClass] = useState(\r\n    isFav.length > 0 ? \"fas fa-heart fa-3x\" : \"far fa-heart fa-3x\"\r\n  );\r\n\r\n  const artistFavourite = (e) => {\r\n    if (artistFavouriteIconClass === \"far fa-heart fa-3x\") {\r\n      dispatch(userChoiceAction.addFav(\"favrapper\", currArtist._id));\r\n      setArtistFavouriteIconClass(\"fas fa-heart fa-3x\");\r\n    } else {\r\n      dispatch(userChoiceAction.removeFav(\"favrapper\", currArtist._id));\r\n      setArtistFavouriteIconClass(\"far fa-heart fa-3x\");\r\n    }\r\n  };\r\n\r\n  const [liked, setLiked] = useState(false);\r\n  const [disliked, setDisliked] = useState(false);\r\n\r\n  async function likeArtist(config, addRemove) {\r\n    setAuthToken(localStorage.token);\r\n    await axios.post(\r\n      `/userchoice/likedartist/likedrapper/${addRemove}/${currArtist._id}`,\r\n      null,\r\n      config\r\n    );\r\n  }\r\n\r\n  async function disLikedArtist(config, addRemove) {\r\n    setAuthToken(localStorage.token);\r\n    await axios.post(\r\n      `/userchoice/dislikedartist/dislikedrapper/${addRemove}/${currArtist._id}`,\r\n      null,\r\n      config\r\n    );\r\n  }\r\n  function setLocalState(like, dislike) {\r\n    setDisliked(dislike);\r\n    setLiked(like);\r\n  }\r\n  function dbUpdate(currentAction, action) {\r\n    const likeUnlikeInfo = {\r\n      id: currArtist._id,\r\n      action: action,\r\n    };\r\n\r\n    dispatch(\r\n      artistActions.likeUnLikeArtist(\"rappers\", likeUnlikeInfo, currentAction)\r\n    );\r\n  }\r\n  function artistLikedUnliked(currentAction) {\r\n    const config = {\r\n      header: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    };\r\n    if (\r\n      (currentAction === \"like\" && liked) ||\r\n      (currentAction === \"unLike\" && disliked)\r\n    ) {\r\n      return;\r\n    } else if (currentAction === \"like\" && disliked) {\r\n      setLocalState(true, false);\r\n      disLikedArtist(config, \"remove\");\r\n      likeArtist(config, \"add\");\r\n      dbUpdate(\"like\", \"inc\");\r\n      dbUpdate(\"unLike\", \"dec\");\r\n      //remove from disliked list and add to liked list backend\r\n    } else if (currentAction === \"unLike\" && liked) {\r\n      setLocalState(false, true);\r\n      disLikedArtist(config, \"add\");\r\n      likeArtist(config, \"remove\");\r\n      dbUpdate(\"like\", \"dec\");\r\n      dbUpdate(\"unLike\", \"inc\");\r\n      //remove from liked list and add to disliked list backend\r\n    } else if (currentAction === \"like\") {\r\n      setLocalState(true, false);\r\n      likeArtist(config, \"add\");\r\n      dbUpdate(\"like\", \"inc\");\r\n    } else if (currentAction === \"unLike\") {\r\n      setLocalState(false, true);\r\n      disLikedArtist(config, \"add\");\r\n      dbUpdate(\"unLike\", \"inc\");\r\n    }\r\n  }\r\n  // const songUpdate = useRef(false);\r\n  // if (!songUpdate.current) {\r\n  //   dispatch(songAction.allArtistSongs(artistType, currArtist._id));\r\n  //   songUpdate.current = true;\r\n  // }\r\n  useEffect(async () => {\r\n    try {\r\n      setAuthToken(localStorage.token);\r\n      const disLikedCheck = await axios.get(\r\n        `/userchoice/likecheck/dislikedrapper/${currArtist._id}`\r\n      );\r\n      setDisliked(disLikedCheck.data.res === \"true\");\r\n\r\n      const likedCheck = await axios.get(\r\n        `/userchoice/likecheck/likedrapper/${currArtist._id}`\r\n      );\r\n      setLiked(likedCheck.data.res === \"true\");\r\n    } catch (error) {}\r\n  }, []);\r\n\r\n  return (\r\n    currArtist !== null && (\r\n      <div style={{ backgroundColor: \"#\" }}>\r\n        <div className=\"d-inline-flex flex-row\">\r\n          <div className=\"pe-3 pb-3 ps-3\">\r\n            <img\r\n              style={{\r\n                height: \"400px\",\r\n                width: \"300px\",\r\n              }}\r\n              className=\"border border-5 border-white\"\r\n              src={\r\n                require(`../../../../resources/artist/images/page/${currArtist.profileImage}`)\r\n                  .default\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"position-relative\">\r\n            <h1 style={{ color: \"#56799a\" }}>\r\n              {currArtist.name} - The [{currArtist.title} ]of DHH\r\n            </h1>\r\n            <div style={{ color: \"#\" }}>{currArtist.about}</div>\r\n            <div className=\"position-absolute bottom-0 container\">\r\n              <div\r\n                style={{ color: \"#\" }}\r\n                className=\"d-flex justify-content-evenly\"\r\n              >\r\n                <div>\r\n                  <i\r\n                    onClick={() => artistLikedUnliked(\"like\")}\r\n                    className=\"fas fa-microphone fa-3x\"\r\n                  ></i>\r\n                  <span className=\"ps-3\">{currArtist.like}</span>\r\n                </div>\r\n                <div>\r\n                  <i\r\n                    onClick={artistFavourite}\r\n                    className={artistFavouriteIconClass}\r\n                  ></i>\r\n                </div>\r\n                <div>\r\n                  <i\r\n                    onClick={() => artistLikedUnliked(\"unLike\")}\r\n                    className=\"fas fa-microphone-slash fa-3x\"\r\n                  ></i>\r\n                  <span className=\"ps-3\">{currArtist.unLike}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"container-fluid\" style={{ margin: \"0px\" }}>\r\n          <h3 style={{ color: \"#56799a\" }}>Famous Bars</h3>\r\n          <div className=\"scroll\">\r\n            <div className=\"row flex-row flex-nowrap\">\r\n              <Songs songsList={currArtist.songs}></Songs>\r\n              {/* <YoutubeVideo\r\n                youtubeKey=\"AIzaSyB47-Z2ZklkZUzSVKohYBoazrKVqM3ddxc\"\r\n                channelId=\"UCMXMp3Lc6v6v8dJH5ZGwtqA\"\r\n              ></YoutubeVideo> */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-12\">\r\n          <h3 style={{ color: \"#56799a\" }} className=\"text-center\">\r\n            Social Links\r\n          </h3>\r\n          <div className=\"container-fluid\">\r\n            <div\r\n              className=\"row justify-content-md-center\"\r\n              style={{ backgroundColor: \"black\" }}\r\n            >\r\n              {currArtist.sociallinks.map((socialaccount, i) => (\r\n                <SocialMedia\r\n                  socialaccount={socialaccount}\r\n                  i={i}\r\n                  size={5}\r\n                ></SocialMedia>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n};\r\nexport default Rapper;\r\n"]},"metadata":{},"sourceType":"module"}