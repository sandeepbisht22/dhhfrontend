{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bisht/Project/deployment/dhh/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"C:/Users/bisht/Project/deployment/dhh/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"C:/Users/bisht/Project/deployment/dhh/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/bisht/Project/deployment/dhh/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,Fragment}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var YoutubeVideo=function YoutubeVideo(_ref){var channelId=_ref.channelId,youtubeKey=_ref.youtubeKey;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),channelVideoInfos=_useState2[0],setChannelVideoInfos=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),channelInfos=_useState4[0],setChannelInfos=_useState4[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,channelJson;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(channelVideoInfos.length===0)){_context2.next=9;break;}_context2.next=3;return fetch(\"https://youtube.googleapis.com/youtube/v3/search?part=snippet&channelId=\".concat(channelId,\"&maxResults=5&order=viewCount&key=\").concat(youtubeKey)// \"http://localhost:5000/sampleyoutubefirstcall\"\n);case 3:res=_context2.sent;_context2.next=6;return res.json();case 6:channelJson=_context2.sent;//channelInfos = channelJson.items;\nsetChannelInfos(channelJson.items);// setChannelInfos(channelJson[0].items);\n//      channelInfos = channelJson[0].items;\nconsole.log(channelInfos);case 9:_context2.next=11;return Promise.all(channelInfos.map(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(channelInfo){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://www.googleapis.com/youtube/v3/videos?part=statistics&id=\".concat(channelInfo.id.videoId,\"&key=\").concat(youtubeKey)// \"http://localhost:5000/sampleyoutubesecondcall\"\n);case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setChannelVideoInfos(function(channelVideoInfos){return[].concat(_toConsumableArray(channelVideoInfos),[// data[0].items,\ndata.items]);});console.log(channelVideoInfos);case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref3.apply(this,arguments);};}()));case 11:case\"end\":return _context2.stop();}}},_callee2);})),[]);return channelInfos!==null&&channelInfos.length>0&&/*#__PURE__*/_jsx(Fragment,{children:channelInfos.map(function(channelInfo){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pb-1\",children:/*#__PURE__*/_jsx(\"a\",{href:\"https://www.youtube.com/watch?v=\".concat(channelInfo.id.videoId),target:\"_blank\",rel:\"noreferrer noopener\",children:/*#__PURE__*/_jsx(\"img\",{src:channelInfo.snippet.thumbnails.medium.url,className:\"border border-3 rounded\"})})}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"#FFFFFF\"},className:\"flex-wrap \",children:channelInfo.snippet.title})]});})});};export default YoutubeVideo;","map":{"version":3,"sources":["C:/Users/bisht/Project/deployment/dhh/client/src/component/common/YoutubeVideo.js"],"names":["React","useEffect","useState","Fragment","YoutubeVideo","channelId","youtubeKey","channelVideoInfos","setChannelVideoInfos","channelInfos","setChannelInfos","length","fetch","res","json","channelJson","items","console","log","Promise","all","map","channelInfo","id","videoId","response","data","snippet","thumbnails","medium","url","color","title"],"mappings":"ipBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,QAArC,KAAqD,OAArD,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAA+B,IAA5BC,CAAAA,SAA4B,MAA5BA,SAA4B,CAAjBC,UAAiB,MAAjBA,UAAiB,CAClD,cAAkDJ,QAAQ,CAAC,EAAD,CAA1D,wCAAOK,iBAAP,eAA0BC,oBAA1B,eACA,eAAwCN,QAAQ,CAAC,EAAD,CAAhD,yCAAOO,YAAP,eAAqBC,eAArB,eAEAT,SAAS,sEAAC,iKACJM,iBAAiB,CAACI,MAAlB,GAA6B,CADzB,kDAEYC,CAAAA,KAAK,mFACsDP,SADtD,8CACoGC,UADpG,CAErB;AAFqB,CAFjB,QAEAO,GAFA,uCAMoBA,CAAAA,GAAG,CAACC,IAAJ,EANpB,QAMAC,WANA,gBAON;AACAL,eAAe,CAACK,WAAW,CAACC,KAAb,CAAf,CAEA;AACA;AAEAC,OAAO,CAACC,GAAR,CAAYT,YAAZ,EAbM,+BAgBFU,CAAAA,OAAO,CAACC,GAAR,CACJX,YAAY,CAACY,GAAb,2FAAiB,iBAAOC,WAAP,0JACQV,CAAAA,KAAK,2EACyCU,WAAW,CAACC,EAAZ,CAAeC,OADxD,iBACuElB,UADvE,CAE1B;AAF0B,CADb,QACTmB,QADS,qCAKIA,CAAAA,QAAQ,CAACX,IAAT,EALJ,QAKTY,IALS,eAMflB,oBAAoB,CAAC,SAACD,iBAAD,qCAChBA,iBADgB,GAEnB;AACAmB,IAAI,CAACV,KAHc,IAAD,CAApB,CAKAC,OAAO,CAACC,GAAR,CAAYX,iBAAZ,EAXe,sDAAjB,gEADI,CAhBE,0DAAD,GA+BN,EA/BM,CAAT,CAiCA,MACEE,CAAAA,YAAY,GAAK,IAAjB,EACAA,YAAY,CAACE,MAAb,CAAsB,CADtB,eAEE,KAAC,QAAD,WAIGF,YAAY,CAACY,GAAb,CAAiB,SAACC,WAAD,qBAChB,aAAK,SAAS,CAAC,UAAf,wBACE,YAAK,SAAS,CAAC,MAAf,uBACE,UACE,IAAI,2CAAqCA,WAAW,CAACC,EAAZ,CAAeC,OAApD,CADN,CAEE,MAAM,CAAC,QAFT,CAGE,GAAG,CAAC,qBAHN,uBAKE,YACE,GAAG,CAAEF,WAAW,CAACK,OAAZ,CAAoBC,UAApB,CAA+BC,MAA/B,CAAsCC,GAD7C,CAEE,SAAS,CAAC,yBAFZ,EALF,EADF,EADF,cAiEE,YAAK,KAAK,CAAE,CAAEC,KAAK,CAAE,SAAT,CAAZ,CAAkC,SAAS,CAAC,YAA5C,UACGT,WAAW,CAACK,OAAZ,CAAoBK,KADvB,EAjEF,GADgB,EAAjB,CAJH,EAHJ,CAmFD,CAxHD,CA0HA,cAAe5B,CAAAA,YAAf","sourcesContent":["import React, { useEffect, useState, Fragment } from \"react\";\r\n\r\nconst YoutubeVideo = ({ channelId, youtubeKey }) => {\r\n  const [channelVideoInfos, setChannelVideoInfos] = useState([]);\r\n  const [channelInfos, setChannelInfos] = useState([]);\r\n\r\n  useEffect(async () => {\r\n    if (channelVideoInfos.length === 0) {\r\n      const res = await fetch(\r\n        `https://youtube.googleapis.com/youtube/v3/search?part=snippet&channelId=${channelId}&maxResults=5&order=viewCount&key=${youtubeKey}`\r\n        // \"http://localhost:5000/sampleyoutubefirstcall\"\r\n      );\r\n      const channelJson = await res.json();\r\n      //channelInfos = channelJson.items;\r\n      setChannelInfos(channelJson.items);\r\n\r\n      // setChannelInfos(channelJson[0].items);\r\n      //      channelInfos = channelJson[0].items;\r\n\r\n      console.log(channelInfos);\r\n    }\r\n\r\n    await Promise.all(\r\n      channelInfos.map(async (channelInfo) => {\r\n        const response = await fetch(\r\n          `https://www.googleapis.com/youtube/v3/videos?part=statistics&id=${channelInfo.id.videoId}&key=${youtubeKey}`\r\n          // \"http://localhost:5000/sampleyoutubesecondcall\"\r\n        );\r\n        const data = await response.json();\r\n        setChannelVideoInfos((channelVideoInfos) => [\r\n          ...channelVideoInfos,\r\n          // data[0].items,\r\n          data.items,\r\n        ]);\r\n        console.log(channelVideoInfos);\r\n      })\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    channelInfos !== null &&\r\n    channelInfos.length > 0 && (\r\n      <Fragment>\r\n        {/* <div className=\"container ps-0\">\r\n          <div className=\"row\">\r\n             */}\r\n        {channelInfos.map((channelInfo) => (\r\n          <div className=\"col-md-3\">\r\n            <div className=\"pb-1\">\r\n              <a\r\n                href={`https://www.youtube.com/watch?v=${channelInfo.id.videoId}`}\r\n                target=\"_blank\"\r\n                rel=\"noreferrer noopener\"\r\n              >\r\n                <img\r\n                  src={channelInfo.snippet.thumbnails.medium.url}\r\n                  className=\"border border-3 rounded\"\r\n                />\r\n              </a>\r\n              {/* <div className=\"ps-3\">\r\n                    <div className=\"ps-2 flex-column\">\r\n                      <div className=\"pb-1\">\r\n                        <i\r\n                          class=\"fas fa-thumbs-up fa-3x\"\r\n                          style={{ color: \"#FFFFFF\" }}\r\n                        ></i>\r\n                        <span\r\n                          className=\"ps-2 ms-2\"\r\n                          style={{ color: \"#FFFFFF\" }}\r\n                        >\r\n                          12334\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"pb-1\">\r\n                        <i\r\n                          class=\"fas fa-thumbs-down fa-3x\"\r\n                          style={{ color: \"#FFFFFF\" }}\r\n                        ></i>\r\n                        <span\r\n                          className=\"ps-2 ms-2\"\r\n                          style={{ color: \"#FFFFFF\" }}\r\n                        >\r\n                          12334\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"pb-1\">\r\n                        <i\r\n                          class=\"fas fa-eye fa-3x\"\r\n                          style={{ color: \"#FFFFFF\" }}\r\n                        ></i>\r\n                        <span\r\n                          className=\"ps-2 ms-2\"\r\n                          style={{ color: \"#FFFFFF\" }}\r\n                        >\r\n                          12334\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"pb-1\">\r\n                        <i\r\n                          class=\"fas fa-comments fa-3x\"\r\n                          style={{ color: \"#FFFFFF\" }}\r\n                        ></i>\r\n                        <span\r\n                          className=\"ps-2 ms-2\"\r\n                          style={{ color: \"#FFFFFF\" }}\r\n                        >\r\n                          12334\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div> */}\r\n            </div>\r\n            <div style={{ color: \"#FFFFFF\" }} className=\"flex-wrap \">\r\n              {channelInfo.snippet.title}\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {/* </div>\r\n        </div> */}\r\n      </Fragment>\r\n    )\r\n  );\r\n};\r\n\r\nexport default YoutubeVideo;\r\n"]},"metadata":{},"sourceType":"module"}