{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bisht/Project/deployment/dhh/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/bisht/Project/deployment/dhh/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import setAuthToken from\"../../utils/setAuthnToken\";import{FAV_RAPPER,FAV_BEATPRODUCER,FAV_SONG,FAV_ADDED,DISLIKE_CHECK,LIKE_CHECK,FAV_REMOVED}from\"../types\";export var favRappers=function favRappers(userId){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var favRapperInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/userchoice/\".concat(userId,\"/favrapper\"));case 2:favRapperInfo=_context.sent;dispatch({type:FAV_RAPPER,payload:favRapperInfo.data});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var favBeatProducers=function favBeatProducers(userId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var beatProducerInfo;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"/userchoice/\".concat(userId,\"/favbeatproducer\"));case 2:beatProducerInfo=_context2.sent;dispatch({type:FAV_BEATPRODUCER,payload:beatProducerInfo.data});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var favSongs=function favSongs(userId){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var favSongInfo;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(\"/userchoice/\".concat(userId,\"/favsong\"));case 2:favSongInfo=_context3.sent;dispatch({type:FAV_SONG,payload:favSongInfo.data});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var addFav=function addFav(choice,id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var config,favResponse,payload;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;setAuthToken(localStorage.token);config={header:{\"content-type\":\"application/json\"}};_context4.next=5;return axios.post(\"/userchoice/add/\".concat(choice,\"/\").concat(id),null,config);case 5:favResponse=_context4.sent;//pass name and value separately\npayload={choice:choice,value:favResponse.data};dispatch({type:FAV_ADDED,payload:payload});_context4.next=13;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](0);console.log(\"[error ]message is \"+_context4.t0.message);case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[0,10]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var removeFav=function removeFav(choice,id){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var config,favResponse,payload;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;setAuthToken(localStorage.token);config={header:{\"content-type\":\"application/json\"}};_context5.next=5;return axios.post(\"/userchoice/remove/\".concat(choice,\"/\").concat(id),null,config);case 5:favResponse=_context5.sent;//pass name and value separately\npayload={choice:choice,value:favResponse.data};dispatch({type:FAV_REMOVED,payload:payload});_context5.next=13;break;case 10:_context5.prev=10;_context5.t0=_context5[\"catch\"](0);console.log(\"[error ]message is \"+_context5.t0.message);case 13:case\"end\":return _context5.stop();}}},_callee5,null,[[0,10]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/bisht/Project/deployment/dhh/client/src/state/actions/userChoiceAction.js"],"names":["axios","setAuthToken","FAV_RAPPER","FAV_BEATPRODUCER","FAV_SONG","FAV_ADDED","DISLIKE_CHECK","LIKE_CHECK","FAV_REMOVED","favRappers","userId","dispatch","get","favRapperInfo","type","payload","data","favBeatProducers","beatProducerInfo","favSongs","favSongInfo","addFav","choice","id","localStorage","token","config","header","post","favResponse","value","console","log","message","removeFav"],"mappings":"mUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,OACEC,UADF,CAEEC,gBAFF,CAGEC,QAHF,CAIEC,SAJF,CAKEC,aALF,CAMEC,UANF,CAOEC,WAPF,KAQO,UARP,CASA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,MAAD,iGAAY,iBAAOC,QAAP,0JACRX,CAAAA,KAAK,CAACY,GAAN,uBAAyBF,MAAzB,eADQ,QAC9BG,aAD8B,eAEpCF,QAAQ,CAAC,CACPG,IAAI,CAAEZ,UADC,CAEPa,OAAO,CAAEF,aAAa,CAACG,IAFhB,CAAD,CAAR,CAFoC,sDAAZ,gEAAnB,CAQP,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACP,MAAD,kGAAY,kBAAOC,QAAP,kKACXX,CAAAA,KAAK,CAACY,GAAN,uBACdF,MADc,qBADW,QACpCQ,gBADoC,gBAI1CP,QAAQ,CAAC,CACPG,IAAI,CAAEX,gBADC,CAEPY,OAAO,CAAEG,gBAAgB,CAACF,IAFnB,CAAD,CAAR,CAJ0C,wDAAZ,kEAAzB,CAUP,MAAO,IAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACT,MAAD,kGAAY,kBAAOC,QAAP,6JACRX,CAAAA,KAAK,CAACY,GAAN,uBAAyBF,MAAzB,aADQ,QAC5BU,WAD4B,gBAElCT,QAAQ,CAAC,CACPG,IAAI,CAAEV,QADC,CAEPW,OAAO,CAAEK,WAAW,CAACJ,IAFd,CAAD,CAAR,CAFkC,wDAAZ,kEAAjB,CAQP,MAAO,IAAMK,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,MAAD,CAASC,EAAT,kGAAgB,kBAAOZ,QAAP,sKAElCV,YAAY,CAACuB,YAAY,CAACC,KAAd,CAAZ,CACMC,MAH4B,CAGnB,CACbC,MAAM,CAAE,CACN,eAAgB,kBADV,CADK,CAHmB,wBAQR3B,CAAAA,KAAK,CAAC4B,IAAN,2BACLN,MADK,aACKC,EADL,EAExB,IAFwB,CAGxBG,MAHwB,CARQ,QAQ5BG,WAR4B,gBAalC;AACMd,OAd4B,CAclB,CAAEO,MAAM,CAAEA,MAAV,CAAkBQ,KAAK,CAAED,WAAW,CAACb,IAArC,CAdkB,CAelCL,QAAQ,CAAC,CACPG,IAAI,CAAET,SADC,CAEPU,OAAO,CAAEA,OAFF,CAAD,CAAR,CAfkC,qFAoBlCgB,OAAO,CAACC,GAAR,CAAY,sBAAwB,aAAMC,OAA1C,EApBkC,uEAAhB,kEAAf,CAwBP,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACZ,MAAD,CAASC,EAAT,kGAAgB,kBAAOZ,QAAP,sKAErCV,YAAY,CAACuB,YAAY,CAACC,KAAd,CAAZ,CACMC,MAH+B,CAGtB,CACbC,MAAM,CAAE,CACN,eAAgB,kBADV,CADK,CAHsB,wBAQX3B,CAAAA,KAAK,CAAC4B,IAAN,8BACFN,MADE,aACQC,EADR,EAExB,IAFwB,CAGxBG,MAHwB,CARW,QAQ/BG,WAR+B,gBAarC;AACMd,OAd+B,CAcrB,CAAEO,MAAM,CAAEA,MAAV,CAAkBQ,KAAK,CAAED,WAAW,CAACb,IAArC,CAdqB,CAerCL,QAAQ,CAAC,CACPG,IAAI,CAAEN,WADC,CAEPO,OAAO,CAAEA,OAFF,CAAD,CAAR,CAfqC,qFAoBrCgB,OAAO,CAACC,GAAR,CAAY,sBAAwB,aAAMC,OAA1C,EApBqC,uEAAhB,kEAAlB","sourcesContent":["import axios from \"axios\";\r\nimport setAuthToken from \"../../utils/setAuthnToken\";\r\nimport {\r\n  FAV_RAPPER,\r\n  FAV_BEATPRODUCER,\r\n  FAV_SONG,\r\n  FAV_ADDED,\r\n  DISLIKE_CHECK,\r\n  LIKE_CHECK,\r\n  FAV_REMOVED,\r\n} from \"../types\";\r\nexport const favRappers = (userId) => async (dispatch) => {\r\n  const favRapperInfo = await axios.get(`/userchoice/${userId}/favrapper`);\r\n  dispatch({\r\n    type: FAV_RAPPER,\r\n    payload: favRapperInfo.data,\r\n  });\r\n};\r\n\r\nexport const favBeatProducers = (userId) => async (dispatch) => {\r\n  const beatProducerInfo = await axios.get(\r\n    `/userchoice/${userId}/favbeatproducer`\r\n  );\r\n  dispatch({\r\n    type: FAV_BEATPRODUCER,\r\n    payload: beatProducerInfo.data,\r\n  });\r\n};\r\n\r\nexport const favSongs = (userId) => async (dispatch) => {\r\n  const favSongInfo = await axios.get(`/userchoice/${userId}/favsong`);\r\n  dispatch({\r\n    type: FAV_SONG,\r\n    payload: favSongInfo.data,\r\n  });\r\n};\r\n\r\nexport const addFav = (choice, id) => async (dispatch) => {\r\n  try {\r\n    setAuthToken(localStorage.token);\r\n    const config = {\r\n      header: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    };\r\n    const favResponse = await axios.post(\r\n      `/userchoice/add/${choice}/${id}`,\r\n      null,\r\n      config\r\n    );\r\n    //pass name and value separately\r\n    const payload = { choice: choice, value: favResponse.data };\r\n    dispatch({\r\n      type: FAV_ADDED,\r\n      payload: payload,\r\n    });\r\n  } catch (error) {\r\n    console.log(\"[error ]message is \" + error.message);\r\n  }\r\n};\r\n\r\nexport const removeFav = (choice, id) => async (dispatch) => {\r\n  try {\r\n    setAuthToken(localStorage.token);\r\n    const config = {\r\n      header: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    };\r\n    const favResponse = await axios.post(\r\n      `/userchoice/remove/${choice}/${id}`,\r\n      null,\r\n      config\r\n    );\r\n    //pass name and value separately\r\n    const payload = { choice: choice, value: favResponse.data };\r\n    dispatch({\r\n      type: FAV_REMOVED,\r\n      payload: payload,\r\n    });\r\n  } catch (error) {\r\n    console.log(\"[error ]message is \" + error.message);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}